<div *ngIf="step==='selectCustomer'">
  <p>Search for clients</p>
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <div class=" ui-inputgroup">
          <span class="ui-inputgroup-addon"><i class="pi pi-search" style="line-height: 1.25;"></i></span>
          <input pInputText style="width:100%" [(ngModel)]="searchKeyword" placeholder="Search by Customer Name or Customer Number" (input)="searchCustomers()" />
        </div>
      </div>
    </div>
    <div class="row" *ngIf="!isProcessing">
      <br />
      <p *ngIf="!customers"><em>Search to find customers.</em></p>
      <table class='table table-striped' *ngIf="customers">
        <thead>
          <tr>
            <th>Customer Number</th>
            <th>Customer Name</th>
            <th>Address Line1</th>
            <th>Address Line2</th>
            <th>Address Line3</th>
            <th>Create Sales</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let customer of customers">
            <td>{{ customer.customerNumber}}</td>
            <td>{{ customer.customerName}}</td>
            <td>{{ customer.addressLine1}}</td>
            <td>{{ customer.addressLine2}}</td>
            <td>{{ customer.addressLine3}}</td>
            <td><button (click)="selectCustomer(customer)">+</button></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="row" *ngIf="isProcessing">
      Loading..
    </div>
  </div>
</div>

<div *ngIf="step==='selectTitle'">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <p>New Sales For:</p>

      </div>
    </div>
    <div class="row">
      <div class="col-8">
        <span class="text-harper-dark">   {{selectedCustomer.customerName}} </span>
      </div>
      <div class="col-4 text-right"><button class="btn-harper" (click)="step='selectCustomer'">Return to Customer Selection</button></div>
    </div>
    <br />
    <div class="row">
      <div class="col-12">
        <div class=" ui-inputgroup">
          <span class="ui-inputgroup-addon"><i class="pi pi-search" style="line-height: 1.25;"></i></span>
          <input pInputText style="width:100%" placeholder="Search by Title, ISBN or Author" (input)="searchTitles($event.target.value)" />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="row" *ngIf="!isProcessing">
          <br />
          <p *ngIf="!titles"><em>Search to find titles.</em></p>
          <p-table [value]="titles" *ngIf="titles">
            <ng-template pTemplate="header">
              <tr>
                <th>ISBN</th>
                <th>Title</th>
                <th>Author</th>
                <th>Format</th>
                <th>List Price</th>
                <th>Add Sales</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-title>
              <tr>
                <td>{{ title.isbn}}</td>
                <td>{{ title.title}}</td>
                <td>{{ title.author}}</td>
                <td>{{ title.format}}</td>
                <td>{{ title.listPrice}}</td>
                <td><button (click)="selectTitle(title)">+</button></td>

              </tr>
            </ng-template>
          </p-table>
</div>
        <div class="row" *ngIf="isProcessing">
          Loading..
        </div>
      </div>
    </div>
  </div>

 

</div>
